webpackJsonp([1],{662:function(e,t,o){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),o.d(t,"Profile",function(){return v});var r=o(31),s=o(48),a=o(678),n=o(669),i=o(2),l=o.n(i),c=o(1),u=o.n(c),p=o(6),m=(o.n(p),o(16)),f=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},d={isEditingProfile:l.a.bool,publicProfileInfo:l.a.object,textboxValues:l.a.object,userData:l.a.object,userSCSongs:l.a.array,userToken:l.a.string,backArrowFunc:l.a.func},h=function(e){return{userToken:e.appReducer.MASASuser,userData:e.appReducer.userData,isEditingProfile:e.profileReducer.isEditingProfile,textboxValues:e.profileReducer.textboxValues,publicProfileInfo:e.profileReducer.publicProfileInfo,userSCSongs:e.profileReducer.userSCSongs,backArrowFunc:e.profileReducer.backArrowFunc}},g={getPublicProfileInfo:l.a.func,getSCinfo:l.a.func,resetBackArrowFunc:l.a.func,saveProfile:l.a.func,toggleEditingProfile:l.a.func,updatePublicProfileInfo:l.a.func,updateTitle:l.a.func,updateUserSCSongs:l.a.func},b=function(e){return{updateTitle:function(t,r,s){return e(o.i(m.a)(t,r,s))},toggleEditingProfile:function(){return e(o.i(s.c)())},updatePublicProfileInfo:function(t){return e(o.i(s.d)(t))},updateUserSCSongs:function(t){return e(o.i(s.e)(t))},getPublicProfileInfo:function(t){return e(o.i(s.f)(t))},getSCinfo:function(){return e(o.i(s.g)())},saveProfile:function(t){return e(o.i(s.h)(t))},resetBackArrowFunc:function(){return e(o.i(s.i)(null))}}},P=_({},d,g,{match:l.a.object}),y={},E=function(e){function ProfileSmart(e){_classCallCheck(this,ProfileSmart);var t=_possibleConstructorReturn(this,(ProfileSmart.__proto__||Object.getPrototypeOf(ProfileSmart)).call(this,e));return t.updateTitle=t.updateTitle.bind(t),t.getPublicProfileInfo=t.getPublicProfileInfo.bind(t),t.updatePageTitle=t.updatePageTitle.bind(t),t.getSCinfo=t.getSCinfo.bind(t),t.saveProfile=t.saveProfile.bind(t),t}return _inherits(ProfileSmart,e),f(ProfileSmart,[{key:"componentWillMount",value:function(){console.log(this.props,this.props.match),this.updateTitle("My Profile"),this.getSCinfo(),this.getPublicProfileInfo()}},{key:"componentWillUnmount",value:function(){0!==Object.keys(this.props.publicProfileInfo).length&&this.props.updatePublicProfileInfo({}),this.props.resetBackArrowFunc(null)}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.match.url!==this.props.match.url&&("/profile"!==e.match.path?this.getPublicProfileInfo(e):this.props.updatePublicProfileInfo({}),window.setTimeout(function(){return t.getSCinfo()},0))}},{key:"componentDidUpdate",value:function(e){JSON.stringify(this.props.userData.songs)!==JSON.stringify(e.userData.songs)&&this.getSCinfo(),this.updatePageTitle()}},{key:"updateTitle",value:function(e){this.props.backArrowFunc?this.props.updateTitle(e,1,this.props.backArrowFunc):this.props.updateTitle(e,0)}},{key:"getPublicProfileInfo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null===e&&(e=this.props),void 0!==e.match.params.username&&this.props.getPublicProfileInfo(e.match.params.username)}},{key:"updatePageTitle",value:function(){if(this.isPublicProfile){if(!o.i(r.h)(this.props.publicProfileInfo)){var e=this.props.publicProfileInfo.name?this.props.publicProfileInfo.name:this.props.publicProfileInfo.username;this.updateTitle(e+"'s Profile")}}else this.updateTitle("My Profile")}},{key:"getSCinfo",value:function(){this.props.getSCinfo()}},{key:"saveProfile",value:function(){this.props.saveProfile(r.d)}},{key:"render",value:function(){var e=!1,t={};this.isPublicProfile=void 0!==this.props.match.params.username;var s=this.isPublicProfile;return s?(e=!o.i(r.h)(this.props.publicProfileInfo),t=this.props.publicProfileInfo):(e=!o.i(r.h)(this.props.userData),t=this.props.userData,""===this.props.userToken&&(e=!1)),e?u.a.createElement(a.a,{userData:t,isPublicProfile:s,isEditingProfile:this.props.isEditingProfile,userSCSongs:this.props.userSCSongs,toogleEditingProfile:this.props.toggleEditingProfile,saveProfile:this.saveProfile}):u.a.createElement("div",{style:{display:"flex",flex:1}},u.a.createElement(n.a,null))}}]),ProfileSmart}(u.a.Component);E.propTypes=P,E.defaultProps=y;var v=o.i(p.connect)(h,b)(E);!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(d,"reduxStatePropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Profile/Profile.jsx"),__REACT_HOT_LOADER__.register(h,"mapStateToProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Profile/Profile.jsx"),__REACT_HOT_LOADER__.register(g,"reduxDispatchPropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Profile/Profile.jsx"),__REACT_HOT_LOADER__.register(b,"mapDispatchToProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Profile/Profile.jsx"),__REACT_HOT_LOADER__.register(P,"smartPropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Profile/Profile.jsx"),__REACT_HOT_LOADER__.register(y,"smartDefaultProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Profile/Profile.jsx"),__REACT_HOT_LOADER__.register(E,"ProfileSmart","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Profile/Profile.jsx"),__REACT_HOT_LOADER__.register(v,"Profile","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Profile/Profile.jsx"))}()},664:function(e,t,o){"use strict";o.d(t,"a",function(){return n}),o.d(t,"b",function(){return i});var r=o(16),s=o(90),a=s.store.dispatch,n={componentDidMount:function(){a(r.f.blurMobile(!0))},componentWillUnmount:function(){a(r.f.blurMobile(!1))}},i={componentDidMount:function(){a(r.f.blur(!0))},componentWillUnmount:function(){a(r.f.blur(!1))}};!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(a,"dispatch","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/MASAS_mixins.jsx"),__REACT_HOT_LOADER__.register(n,"MobileBlurBackground","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/MASAS_mixins.jsx"),__REACT_HOT_LOADER__.register(i,"BlurBackground","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/MASAS_mixins.jsx"))}()},669:function(e,t,o){"use strict";o.d(t,"a",function(){return g});var r=o(168),s=(o.n(r),o(664)),a=o(2),n=o.n(a),i=o(1),l=o.n(i),c=o(6),u=(o.n(c),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}),p={title:n.a.string},m=function(e){return{title:e.appReducer.pageTitle}},f={},_=function(e){return{}},d=u({},p,f,{children:n.a.node}),h=r({mixins:[s.a],propTypes:d,render:function(){var e={minHeight:"4rem",maxHeight:"4rem"};return l.a.createElement("div",{className:"app-body body--wrapper",id:"app-body--profile"},l.a.createElement("div",{className:"row row-display-none-sm no-margin",style:e},l.a.createElement("div",{className:"col-md-2"},l.a.createElement("div",{className:"box"})),l.a.createElement("div",{className:"col-md-8 profile-header-desktop page-title--wrapper"},l.a.createElement("div",{className:"box page-title"},this.props.title),l.a.createElement("hr",null)),l.a.createElement("div",{className:"col-md-2"},l.a.createElement("div",{className:"box"}))),l.a.createElement("div",{className:"row no-margin"},l.a.createElement("div",{className:"col-md-2 col-display-none-sm"},l.a.createElement("div",{className:"box"})),l.a.createElement("div",{className:"col-xs-12 col-md-8 page-content--wrapper"},l.a.createElement("div",{className:"box page-content",style:{backgroundColor:"rgba(0,0,0,0)"}},l.a.createElement("div",{className:"profile--wrapper"},this.props.children))),l.a.createElement("div",{className:"col-md-2 col-display-none-sm"},l.a.createElement("div",{className:"box"}))),l.a.createElement("div",{className:"row row-display-none-sm no-margin",style:{maxHeight:"1rem",minHeight:"1rem",height:"1rem"}},l.a.createElement("div",{className:"col-xs-12"})))}}),g=o.i(c.connect)(m,_)(h);!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(p,"reduxStatePropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Profile/ProfileWrapper.jsx"),__REACT_HOT_LOADER__.register(m,"mapStateToProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Profile/ProfileWrapper.jsx"),__REACT_HOT_LOADER__.register(f,"reduxDispatchPropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Profile/ProfileWrapper.jsx"),__REACT_HOT_LOADER__.register(_,"mapDispatchToProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Profile/ProfileWrapper.jsx"),__REACT_HOT_LOADER__.register(d,"smartPropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Profile/ProfileWrapper.jsx"),__REACT_HOT_LOADER__.register(h,"ProfileWrapperSmart","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Profile/ProfileWrapper.jsx"),__REACT_HOT_LOADER__.register(g,"ProfileWrapper","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Profile/ProfileWrapper.jsx"))}()},677:function(e,t,o){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}o.d(t,"a",function(){return y});var r=o(28),s=o(31),a=o(48),n=o(2),i=o.n(n),l=o(1),c=o.n(l),u=o(6),p=(o.n(u),function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}()),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},f={MASASuser:i.a.string,moodValue:i.a.number},_=function(e){return{moodValue:e.profileReducer.changeSongMoodValue,MASASuser:e.appReducer.MASASuser}},d={updateMoodValue:i.a.func},h=function(e){return{updateMoodValue:function(t){return e(o.i(a.j)(t))}}},g=m({},f,d,{MASAS_info:i.a.object,SC_info:i.a.object,toggleModal:i.a.func}),b={},P=function(e){function ChangeMoodModalSmart(e){_classCallCheck(this,ChangeMoodModalSmart);var t=_possibleConstructorReturn(this,(ChangeMoodModalSmart.__proto__||Object.getPrototypeOf(ChangeMoodModalSmart)).call(this,e));return t.changeMood=t.changeMood.bind(t),t}return _inherits(ChangeMoodModalSmart,e),p(ChangeMoodModalSmart,[{key:"changeMood",value:function(){var e=this,t="Bearer "+this.props.MASASuser,r=o.i(s.d)("csrftoken");$.ajax({type:"PATCH",url:this.props.MASAS_info.url,headers:{Authorization:t,"X-CSRFToken":r},data:{timeInterval:"http://localhost:8000/api/time-intervals/"+this.props.moodValue+"/"},success:function(t){e.props.toggleModal(),o.i(s.j)("Song updated"),o.i(a.a)()},error:function(e){o.i(s.j)("Error")}})}},{key:"render",value:function(){return c.a.createElement("div",{className:"profile-modal--wrapper"},c.a.createElement("div",{className:"song-info--wrapper"},c.a.createElement("div",{className:"artwork"},this.props.SC_info.artwork_url?c.a.createElement("img",{src:this.props.SC_info.artwork_url,alt:"artwork"}):""),c.a.createElement("div",{className:"song-title"},this.props.SC_info.title)),c.a.createElement("div",{className:"profile-modal-content"},c.a.createElement("h2",null,"Would you like to update which discover mood your sound will play on?"),c.a.createElement("div",{className:"suggest-time-modal--wrapper"},c.a.createElement(r.f,{wrapperClassName:"suggest-time-modal--wrapper",canvasId:"suggest-time-modal-timePicker-canvas-id",initialDiscover:parseInt(this.props.MASAS_info.timeInterval.substr(this.props.MASAS_info.timeInterval.length-2,1)),currentDiscover:this.props.moodValue,onSliderChange:this.props.updateMoodValue,showHashtag:!0})),c.a.createElement(r.b,{isSecondaryAction:!1,isBigButton:!1,isDisabled:!1,onClick:this.changeMood},"yes")),c.a.createElement("div",{className:"cancel-button",onClick:this.props.toggleModal},"Cancel"))}}]),ChangeMoodModalSmart}(c.a.Component);P.propTypes=g,P.defaultProps=b;var y=o.i(u.connect)(_,h)(P);!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(f,"reduxStatePropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Profile/ChangeMoodModal.jsx"),__REACT_HOT_LOADER__.register(_,"mapStateToProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Profile/ChangeMoodModal.jsx"),__REACT_HOT_LOADER__.register(d,"reduxDispatchPropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Profile/ChangeMoodModal.jsx"),__REACT_HOT_LOADER__.register(h,"mapDispatchToProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Profile/ChangeMoodModal.jsx"),__REACT_HOT_LOADER__.register(g,"smartPropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Profile/ChangeMoodModal.jsx"),__REACT_HOT_LOADER__.register(b,"smartDefaultProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Profile/ChangeMoodModal.jsx"),__REACT_HOT_LOADER__.register(P,"ChangeMoodModalSmart","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Profile/ChangeMoodModal.jsx"),__REACT_HOT_LOADER__.register(y,"ChangeMoodModal","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Profile/ChangeMoodModal.jsx"))}()},678:function(e,t,o){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}o.d(t,"a",function(){return d});var r=o(28),s=o(249),a=o(250),n=o(679),i=o(669),l=o(2),c=o.n(l),u=o(1),p=o.n(u),m=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),f={isEditingProfile:c.a.bool,isPublicProfile:c.a.bool,saveProfile:c.a.func,toogleEditingProfile:c.a.func,userData:c.a.object,userSCSongs:c.a.array},_={},d=function(e){function ProfileDumb(e){_classCallCheck(this,ProfileDumb);var t=_possibleConstructorReturn(this,(ProfileDumb.__proto__||Object.getPrototypeOf(ProfileDumb)).call(this,e));return t.checkLink=t.checkLink.bind(t),t.checkPersonalWebsite=t.checkPersonalWebsite.bind(t),t}return _inherits(ProfileDumb,e),m(ProfileDumb,[{key:"checkLink",value:function(e){var t=this.props.userData.link_set,o=t.filter(function(t){return t.link.includes(e)});return o.length?o[0].link:""}},{key:"checkPersonalWebsite",value:function(){var e=this.props.userData.link_set,t=e.filter(function(e){var t=e.link;return!t.includes("facebook.com")&&!t.includes("twitter.com")&&!t.includes("soundcloud.com")});return t.length?t[0].link:""}},{key:"render",value:function(){var e=this.props.userData,t=e.link_set,o=e.avatar_url,l=e.name,c=e.username,u=e.city,m=e.occupation,f=e.songs,_=this.props,d=_.userData,h=_.isPublicProfile,g=!1;return 0!==t.length||null!==u&&""!==u||null!==m&&""!==m||(g=!0),p.a.createElement("div",{style:{display:"flex",flex:1}},p.a.createElement(i.a,null,p.a.createElement("div",{className:"main--wrapper"},p.a.createElement("div",{className:"profile-info--wrapper "+(f.length?"":"no-songs")},h?p.a.createElement("div",null):p.a.createElement("div",{className:"edit-profile-icon--wrapper"},this.props.isEditingProfile?p.a.createElement("div",null,p.a.createElement("span",{onClick:this.props.toogleEditingProfile,style:{paddingRight:"0.5rem"}},"cancel"),p.a.createElement("span",{onClick:this.props.saveProfile},"save")):p.a.createElement("img",{onClick:this.props.toogleEditingProfile,className:"abcdefg",src:"/static/img/MASAS_edit_profile.svg",alt:"edit profile"})),o?p.a.createElement("img",{src:o+"?width=400",alt:"profile picture",className:"profile-picture"}):p.a.createElement("div",{className:"profile-picture"}),p.a.createElement("div",{className:"text--wrapper "+(this.props.isEditingProfile?"is-editing-profile":"")},p.a.createElement("div",{className:"text--wrapper2",style:{display:"flex",flexDirection:"column"}},p.a.createElement("div",{className:"user-info-desktop "+(this.props.isEditingProfile?"hidden":"")},p.a.createElement("span",{className:"username"},l?p.a.createElement(r.g,null,l):p.a.createElement(r.g,null,c)),p.a.createElement("div",{className:"occupation--wrapper"},p.a.createElement("span",{className:"location"},u?p.a.createElement(r.g,null,u.display_name.replace(/,.*?,/,",")):""),p.a.createElement("span",{className:"occupation"},m?p.a.createElement(r.g,null,m):""))),p.a.createElement("div",{className:"social--wrapper "+(this.props.isEditingProfile?"hidden":""),style:g?{display:"none"}:{}},p.a.createElement("div",{className:"social-links"},""!==this.checkLink("soundcloud.com")?p.a.createElement("a",{href:this.checkLink("soundcloud.com"),className:"site-logo",target:"_blank"},p.a.createElement("img",{src:"/static/img/MASAS_logo_soundcloud.svg",alt:"soundcloud"})):"",""!==this.checkPersonalWebsite()?p.a.createElement("a",{href:this.checkPersonalWebsite(),className:"site-logo",target:"_blank"},p.a.createElement("img",{src:"/static/img/MASAS_logo_world.svg",alt:"personal page"})):"",""!==this.checkLink("twitter.com")?p.a.createElement("a",{href:this.checkLink("twitter.com"),className:"site-logo",target:"_blank"},p.a.createElement("img",{src:"/static/img/twitter.svg",alt:"twitter"})):"",""!==this.checkLink("facebook.com")?p.a.createElement("a",{href:this.checkLink("facebook.com"),className:"site-logo",target:"_blank"},p.a.createElement("img",{src:"/static/img/facebook.svg",alt:"facebook"})):""))),p.a.createElement("div",{className:"edit-profile--wrapper",style:{display:this.props.isEditingProfile?"flex":"none"}},this.props.isEditingProfile?p.a.createElement(s.a,{show:!h}):"")))),p.a.createElement("div",{className:"song-list--wrapper"},p.a.createElement("div",{className:"edit-social-mobile--wrapper "+(this.props.isEditingProfile?"":"hidden")},p.a.createElement(a.a,{show:!h})),p.a.createElement(n.a,{songs:f,isPublicProfile:h,userSCSongs:this.props.userSCSongs,userData:d}))))}}]),ProfileDumb}(p.a.Component);d.propTypes=f,d.defaultProps=_;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(f,"dumbPropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Profile/ProfileDumb.jsx"),__REACT_HOT_LOADER__.register(_,"dumbDefaultProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Profile/ProfileDumb.jsx"),__REACT_HOT_LOADER__.register(d,"ProfileDumb","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Profile/ProfileDumb.jsx"))}()},679:function(e,t,o){"use strict";o.d(t,"a",function(){return m});var r=o(28),s=o(2),a=o.n(s),n=o(1),i=o.n(n),l=o(681),c=o(31),u={isMiniProfile:a.a.bool,isPublicProfile:a.a.bool,songs:a.a.array,userData:a.a.object},p={isPublicProfile:!1,isMiniProfile:!1},m=function(e){var t=e.songs;if(t.length){var o=function(e,t){var o=new Date(e.dateUploaded),r=new Date(t.dateUploaded);return o>r?-1:r>o?1:0};t.sort(o);var s=t.map(function(t){var o=e.userSCSongs.filter(function(e){return e.id===t.SC_ID})[0];if(void 0!==o)return i.a.createElement(l.a,{key:t.SC_ID,track:o,MASAS_songInfo:t,allowOpen:!e.isPublicProfile,isMiniProfile:!!e.isMiniProfile})});return i.a.createElement("div",null,i.a.createElement("div",{className:"track-table--wrapper"+(e.isMiniProfile?" mini-profile":" aa")},s))}return e.isPublicProfile?i.a.createElement("div",{className:"no-songs--wrapper"},i.a.createElement("div",{className:"upload-button"},i.a.createElement(r.b,{onClick:function(){},isSecondaryAction:!0,isDisabled:!0},"This user has no sounds"))):i.a.createElement("div",{className:"no-songs--wrapper"},i.a.createElement("div",{className:"upload-button"},i.a.createElement("p",{className:"bold"},"Congratulation ",e.userData.name?e.userData.name:e.userData.username,", you're now part of the familly"),i.a.createElement("p",null,"This is your profile, all your uploaded sound will be shown here."),i.a.createElement("p",null,"What would you like to do now?"),i.a.createElement(r.b,{isSecondaryAction:!0,onClick:c.a.bind(null,"/upload")},"Share My First Sound"),i.a.createElement(r.b,{onClick:c.a.bind(null,"/discover")},"Discover music")))};m.propTypes=u,m.defaultProps=p;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(u,"dumbPropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Profile/ProfileTrackList.jsx"),__REACT_HOT_LOADER__.register(p,"dumbDefaultProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Profile/ProfileTrackList.jsx"),__REACT_HOT_LOADER__.register(m,"ProfileTrackList","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Profile/ProfileTrackList.jsx"))}()},680:function(e,t,o){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}o.d(t,"a",function(){return y});var r=o(28),s=o(2),a=o.n(s),n=o(1),i=o.n(n),l=o(6),c=(o.n(l),o(31)),u=o(48),p=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}(),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},f={MASAS_info:a.a.object},_=function(e){return{MASASuser:e.appReducer.MASASuser}},d={},h=function(e){return{}},g=m({},f,d,{SC_info:a.a.object,toggleModal:a.a.func}),b={},P=function(e){function RemoveSongModalSmart(e){return _classCallCheck(this,RemoveSongModalSmart),_possibleConstructorReturn(this,(RemoveSongModalSmart.__proto__||Object.getPrototypeOf(RemoveSongModalSmart)).call(this,e))}return _inherits(RemoveSongModalSmart,e),p(RemoveSongModalSmart,[{key:"removeSong",value:function(){var e=this,t="Bearer "+this.props.MASASuser;$.ajax({type:"DELETE",url:this.props.MASAS_info.url,headers:{Authorization:t},success:function(t){e.props.toggleModal(),o.i(c.j)("Song deleted"),o.i(u.a)()},error:function(e){o.i(c.j)("Error")}})}},{key:"render",value:function(){return i.a.createElement("div",{className:"profile-modal--wrapper"},i.a.createElement("img",{src:"/static/img/MASAS_icon_trash.svg",alt:"icon"}),i.a.createElement("div",{className:"profile-modal-content"},i.a.createElement("h2",{className:"no-margin-bottom"},"Do you really want to remove ",i.a.createElement("strong",{className:"no-margin-bottom"},this.props.SC_info.title)),i.a.createElement("div",{className:"buttons"},i.a.createElement(r.b,{isBigButton:!1,isSecondaryAction:!1,className:"cancel-button",onClick:this.props.toggleModal},"Cancel"),i.a.createElement(r.b,{isSecondaryAction:!0,isBigButton:!1,isDisabled:!1,onClick:this.removeSong},"yes"))))}}]),RemoveSongModalSmart}(i.a.Component);P.propTypes=g,P.defaultProps=b;var y=o.i(l.connect)(_,h)(P);!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(f,"reduxStatePropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Profile/RemoveSongModal.jsx"),__REACT_HOT_LOADER__.register(_,"mapStateToProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Profile/RemoveSongModal.jsx"),__REACT_HOT_LOADER__.register(d,"reduxDispatchPropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Profile/RemoveSongModal.jsx"),__REACT_HOT_LOADER__.register(h,"mapDispatchToProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Profile/RemoveSongModal.jsx"),__REACT_HOT_LOADER__.register(g,"smartPropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Profile/RemoveSongModal.jsx"),__REACT_HOT_LOADER__.register(b,"smartDefaultProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Profile/RemoveSongModal.jsx"),__REACT_HOT_LOADER__.register(P,"RemoveSongModalSmart","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Profile/RemoveSongModal.jsx"),__REACT_HOT_LOADER__.register(y,"RemoveSongModal","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Profile/RemoveSongModal.jsx"))}()},681:function(e,t,o){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}o.d(t,"a",function(){return T});var r=o(28),s=o(16),a=o(31),n=o(19),i=o(677),l=o(2),c=o.n(l),u=o(1),p=o.n(u),m=o(680),f=o(6),_=(o.n(f),function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}()),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},h={miniProfile:c.a.object,isPaused:c.a.bool,publicProfileInfo:c.a.object,songPlaying:c.a.string,userData:c.a.object},g=function(e){return{songPlaying:e.playerReducer.songPlaying,isPaused:e.playerReducer.isPaused,userData:e.appReducer.userData,publicProfileInfo:e.profileReducer.publicProfileInfo,miniProfile:e.appReducer.miniProfile}},b={loadPlaylist:c.a.func,pause:c.a.func,playNewSongFromPlaylist:c.a.func,toogleModal:c.a.func,updateModalContent:c.a.func},P=function(e){return{pause:function(){return e(o.i(n.a)())},loadPlaylist:function(t){return e(o.i(n.f)(t))},playNewSongFromPlaylist:function(t){return e(o.i(n.g)(t))},toogleModal:function(){return e(o.i(s.b)())},updateModalContent:function(t){return e(o.i(s.c)(t))}}},y=d({},h,b,{MASAS_songInfo:c.a.object,allowOpen:c.a.bool,isMiniProfile:c.a.bool,track:c.a.object}),E={isMiniProfile:!1},v=function(e){function TrackItemSmart(e){_classCallCheck(this,TrackItemSmart);var t=_possibleConstructorReturn(this,(TrackItemSmart.__proto__||Object.getPrototypeOf(TrackItemSmart)).call(this,e));return t.playTrack=t.playTrack.bind(t),t.renderPlayerControlButton=t.renderPlayerControlButton.bind(t),t.toggleOpenTray=t.toggleOpenTray.bind(t),t.openChangeMoodModal=t.openChangeMoodModal.bind(t),t.openRemoveSongModal=t.openRemoveSongModal.bind(t),t}return _inherits(TrackItemSmart,e),_(TrackItemSmart,[{key:"playTrack",value:function(){var e={};e=this.props.isMiniProfile?this.props.miniProfile.userData.songs:o.i(a.h)(this.props.publicProfileInfo)?this.props.userData.songs:this.props.publicProfileInfo.songs;for(var t=e.map(function(e){return e.url}),r=0,s=0;s<t.length;s++)this.props.MASAS_songInfo.url===t[s]&&(r=s);this.props.loadPlaylist(t),this.props.playNewSongFromPlaylist(r)}},{key:"renderPlayerControlButton",value:function(){return this.props.MASAS_songInfo.url===this.props.songPlaying&&this.props.isPaused===!1?p.a.createElement("img",{src:"/static/img/MASAS_player_pause.svg",alt:"pause",className:"artwork",onClick:this.props.pause}):p.a.createElement("img",{src:"/static/img/MASAS_player_play.svg",alt:"play",className:"artwork",onClick:this.playTrack})}},{key:"toggleOpenTray",value:function(){var e=this.refs.trackWrapper;e.className.includes(" open")?e.className=e.className.replace(" open",""):e.className=e.className+" open"}},{key:"openChangeMoodModal",value:function(){this.props.updateModalContent(p.a.createElement(i.a,{toggleModal:this.props.toogleModal,MASAS_info:this.props.MASAS_songInfo,SC_info:this.props.track})),this.props.toogleModal()}},{key:"openRemoveSongModal",value:function(){this.props.updateModalContent(p.a.createElement(m.a,{toggleModal:this.props.toogleModal,MASAS_info:this.props.MASAS_songInfo,SC_info:this.props.track})),this.props.toogleModal()}},{key:"render",value:function(){return p.a.createElement("div",{className:"track--wrapper"+(this.props.isMiniProfile?" mini-profile":""),ref:"trackWrapper"},p.a.createElement("div",{className:"visible-info"},p.a.createElement("div",{className:"artwork--wrapper"},p.a.createElement("div",{className:"artwork-div"},this.props.track.artwork_url?p.a.createElement("img",{src:this.props.track.artwork_url,alt:"cover art",className:"artwork",onClick:this.playTrack}):""),p.a.createElement("div",{className:"artwork-overlay"},this.renderPlayerControlButton())),p.a.createElement("div",{className:"song-info--wrapper",onClick:this.props.allowOpen?this.toggleOpenTray:function(){},style:this.props.allowOpen?{}:{cursor:"default"}},p.a.createElement("div",{className:"song-stats-1"},p.a.createElement("div",{className:"song-name"},p.a.createElement("div",{className:"title"},p.a.createElement(r.g,null,this.props.track.title)),p.a.createElement("div",{className:"username"},p.a.createElement(r.g,null,this.props.track.user.username)))),p.a.createElement("div",{className:"song-stats-2"},p.a.createElement("div",{className:"time"},o.i(a.i)(this.props.MASAS_songInfo.timeInterval)),this.props.allowOpen?p.a.createElement("div",{className:"plays"},this.props.MASAS_songInfo.play_count," ",p.a.createElement("img",{src:"/static/img/MASAS_icon_play_count.svg",alt:"play count",className:"play-count-icon"})):""))),this.props.allowOpen?p.a.createElement("div",{className:"hidden-info"},p.a.createElement("div",{className:"RankingInfoIcon--wrapper"},p.a.createElement(r.i,{ranking:.5})),p.a.createElement("div",{className:"icon--wrapper"},this.props.MASAS_songInfo.like_count,p.a.createElement("img",{className:"like-icon",src:"/static/img/MASAS_liked.svg",alt:"# of likes"}),p.a.createElement("img",{onClick:this.openChangeMoodModal,className:"hidden-mobile",src:"/static/img/MASAS_icon_changemood.svg",alt:"change mood"}),p.a.createElement("img",{onClick:this.openRemoveSongModal,className:"hidden-mobile",src:"/static/img/MASAS_icon_trash.svg",alt:"delete song"}))):p.a.createElement("div",null))}}]),TrackItemSmart}(p.a.Component);v.propTypes=y,v.defaultProps=E;var T=o.i(f.connect)(g,P)(v);!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(h,"reduxStatePropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Profile/TrackItem.jsx"),__REACT_HOT_LOADER__.register(g,"mapStateToProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Profile/TrackItem.jsx"),__REACT_HOT_LOADER__.register(b,"reduxDispatchPropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Profile/TrackItem.jsx"),__REACT_HOT_LOADER__.register(P,"mapDispatchToProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Profile/TrackItem.jsx"),__REACT_HOT_LOADER__.register(y,"smartPropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Profile/TrackItem.jsx"),__REACT_HOT_LOADER__.register(E,"smartDefaultProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Profile/TrackItem.jsx"),__REACT_HOT_LOADER__.register(v,"TrackItemSmart","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Profile/TrackItem.jsx"),__REACT_HOT_LOADER__.register(T,"TrackItem","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Profile/TrackItem.jsx"))}()}});