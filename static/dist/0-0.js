webpackJsonp([0],{663:function(e,t,s){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),s.d(t,"UploadSC",function(){return k});var o=s(16),a=s(245),n=s(28),r=s(683),i=s(684),c=s(2),u=s.n(c),l=s(1),p=s.n(l),m=s(686),d=s(670),_=s(687),f=s(6),S=(s.n(f),s(688)),b=function(){function defineProperties(e,t){for(var s=0;s<t.length;s++){var o=t[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,s){return t&&defineProperties(e.prototype,t),s&&defineProperties(e,s),e}}(),C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},h={MASASuser:u.a.string,SCusername:u.a.string,choosingTime:u.a.object,isConnectedSoundcloud:u.a.bool,isModalOpened:u.a.bool,masasUserTracks:u.a.array,modalType:u.a.number,soundcloudUserTracks:u.a.array,userData:u.a.object,userPk:u.a.string},T=function(e){return{MASASuser:e.appReducer.MASASuser,userPk:e.appReducer.MASASuserPk,userData:e.appReducer.userData,modalType:e.appReducer.modalType,isModalOpened:e.appReducer.isModalOpened,choosingTime:e.uploadSCReducer.choosingTime,soundcloudUserTracks:e.uploadSCReducer.soundcloudUserTracks,masasUserTracks:e.uploadSCReducer.masasUserTracks,SCusername:e.uploadSCReducer.SCusername,isConnectedSoundcloud:e.uploadSCReducer.isConnectedSoundcloud}},y={blurBg:u.a.func,blurMobileBr:u.a.func,getUserSCTracks:u.a.func,getUserTracks:u.a.func,saturateBg:u.a.func,toogleModal:u.a.func,updateIsConnectedSC:u.a.func,updateMasasUserTracks:u.a.func,updateModalContent:u.a.func,updateModalType:u.a.func,updateSCusername:u.a.func,updateSoundcloudUserTracks:u.a.func,updateTitle:u.a.func},g=function(e){return{updateTitle:function(t,a){return e(s.i(o.a)(t,a))},toogleModal:function(){return e(s.i(o.b)())},updateModalContent:function(t,a){return e(s.i(o.c)(t,a))},updateModalType:function(t){return e(s.i(o.d)(t))},closeModal:function(){return e(s.i(o.e)())},updateSoundcloudUserTracks:function(t){return e(s.i(a.a)(t))},updateMasasUserTracks:function(t){return e(s.i(a.b)(t))},updateSCusername:function(t){return e(s.i(a.c)(t))},updateIsConnectedSC:function(t){return e(s.i(a.d)(t))},getUserTracks:function(e,t,o){return s.i(S.a)(e,t,o)},blurBg:function(t){return e(o.f.blur(t))},saturateBg:function(t){return e(o.f.saturate(t))},blurMobileBr:function(t){return e(o.f.blurMobile(t))}}},U=C({},h,y),E={},O=function(e){function UploadSCSmart(e){_classCallCheck(this,UploadSCSmart);var t=_possibleConstructorReturn(this,(UploadSCSmart.__proto__||Object.getPrototypeOf(UploadSCSmart)).call(this,e));return t.connectToSC=t.connectToSC.bind(t),t.updateBackgroundFilter=t.updateBackgroundFilter.bind(t),t.getUserSCTracks=t.getUserSCTracks.bind(t),t.getUserTracks=t.getUserTracks.bind(t),t.tracksTable=t.tracksTable.bind(t),t.logoutSC=t.logoutSC.bind(t),t}return _inherits(UploadSCSmart,e),b(UploadSCSmart,[{key:"componentWillMount",value:function(){this.props.updateTitle("Upload","0"),this.props.isConnectedSoundcloud&&this.getUserTracks()}},{key:"componentWillUnmount",value:function(){this.props.blurBg(!1),this.props.blurMobileBr(!1)}},{key:"componentDidMount",value:function(){this.updateBackgroundFilter()}},{key:"componentWillReceiveProps",value:function(e){this.props.choosingTime!==e.choosingTime&&null===e.choosingTime&&this.props.updateTitle("Upload","0"),this.props.choosingTime!==e.choosingTime&&this.getUserTracks(),this.updateBackgroundFilter()}},{key:"updateBackgroundFilter",value:function(){this.props.choosingTime?this.props.blurBg(!1):this.props.isConnectedSoundcloud?(this.props.blurBg(!1),this.props.blurMobileBr(!0)):(this.props.blurBg(!1),this.props.blurMobileBr(!0))}},{key:"getUserSCTracks",value:function(){var e=this;SC.get(document.MASAS.SC.tracks_uri,{limit:100}).then(function(t){e.props.updateSoundcloudUserTracks(t)})}},{key:"connectToSC",value:function(){var e=this;SC.connect().then(function(){e.props.updateIsConnectedSC(!0),SC.get("/me").then(function(t){e.props.updateSCusername(t.username),e.getUserTracks()}).catch(function(){e.props.updateSCusername(null)}),e.getUserTracks()}).catch(function(e){return alert("Error: "+e.message)})}},{key:"tracksTable",value:function(){var e=this;if(this.props.soundcloudUserTracks)return this.props.soundcloudUserTracks.map(function(t){var s=!1;return e.props.masasUserTracks.filter(function(e){return e.SC_ID===t.id}).length&&(s=!0),p.a.createElement(d.a,{key:t.id,track:t,synced:s,streamable:t.streamable,public:"public"===t.sharing})})}},{key:"logoutSC",value:function(){location.reload()}},{key:"getUserTracks",value:function(){var e=this,t=function(t){e.props.updateMasasUserTracks(t.songs),e.getUserSCTracks()},s=function(){};this.props.getUserTracks(this.props.userPk,t,s)}},{key:"render",value:function(){var e=p.a.createElement("div",null),t="",s=1;if(this.props.choosingTime)e=p.a.createElement(i.a,{logoutSC:this.logoutSC}),t="When do you want this sound to play?",s=3;else if(this.props.isConnectedSoundcloud&&this.props.userPk){if(this.props.soundcloudUserTracks){if(0===this.props.soundcloudUserTracks.length)return p.a.createElement(n.a,null,p.a.createElement(r.a,{logoutSC:this.logoutSC}));e=p.a.createElement(_.a,null),t="Sync any tracks that you want!",s=2}}else e=p.a.createElement(m.a,{getUserTracks:this.getUserTracks}),t="Get Featured on MASAS!",s=1;return p.a.createElement(n.a,{wide:!0},p.a.createElement("div",{className:"outer-upload-sc--wrapper"},p.a.createElement("div",{className:"header"},p.a.createElement("h2",null,t),p.a.createElement("div",{className:"nav-dots",style:{display:this.props.isConnectedSoundcloud?"flex":"none"}},p.a.createElement("div",{className:"dot"+(1===s?" fill":"")}),p.a.createElement("div",{className:"dot"+(2===s?" fill":"")}),p.a.createElement("div",{className:"dot"+(3===s?" fill":"")}))),p.a.createElement("div",{className:"content"},e)))}}]),UploadSCSmart}(p.a.Component);O.propTypes=U,O.defaultProps=E;var k=s.i(f.connect)(T,g)(O);!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(h,"reduxStatePropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/UploadSC.jsx"),__REACT_HOT_LOADER__.register(T,"mapStateToProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/UploadSC.jsx"),__REACT_HOT_LOADER__.register(y,"reduxDispatchPropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/UploadSC.jsx"),__REACT_HOT_LOADER__.register(g,"mapDispatchToProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/UploadSC.jsx"),__REACT_HOT_LOADER__.register(U,"smartPropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/UploadSC.jsx"),__REACT_HOT_LOADER__.register(E,"smartDefaultProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/UploadSC.jsx"),__REACT_HOT_LOADER__.register(O,"UploadSCSmart","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/UploadSC.jsx"),__REACT_HOT_LOADER__.register(k,"UploadSC","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/UploadSC.jsx"))}()},670:function(e,t,s){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}s.d(t,"a",function(){return T});var o=s(16),a=s(28),n=s(2),r=s.n(n),i=s(1),c=s.n(i),u=s(685),l=s(6),p=(s.n(l),function(){function defineProperties(e,t){for(var s=0;s<t.length;s++){var o=t[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,s){return t&&defineProperties(e.prototype,t),s&&defineProperties(e,s),e}}()),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},d={},_=function(e){return{}},f={chooseTime:r.a.func,toogleModal:r.a.func,updateModalContent:r.a.func},S=function(e){return{chooseTime:function(t){return e({type:"SYNC_SONG",song:t})},toogleModal:function(){return e(s.i(o.b)())},updateModalContent:function(t,a){return e(s.i(o.c)(t,a))}}},b=m({},d,f,{public:r.a.bool,streamable:r.a.bool,synced:r.a.bool,track:r.a.object}),C={},h=function(e){function UploadSCItemSmart(e){_classCallCheck(this,UploadSCItemSmart);var t=_possibleConstructorReturn(this,(UploadSCItemSmart.__proto__||Object.getPrototypeOf(UploadSCItemSmart)).call(this,e));return t.showSyncScreen=t.showSyncScreen.bind(t),t.showTrackStatus=t.showTrackStatus.bind(t),t.showSyncInfoModal=t.showSyncInfoModal.bind(t),t}return _inherits(UploadSCItemSmart,e),p(UploadSCItemSmart,[{key:"showSyncScreen",value:function(){this.props.chooseTime(this.props.track)}},{key:"showTrackStatus",value:function(){return this.props.streamable&&this.props.public?this.props.synced?"synced":c.a.createElement("img",{src:"/static/img/MASAS_sync_off.svg",alt:"sync",onClick:this.showSyncScreen}):"?"}},{key:"showSyncInfoModal",value:function(){this.props.updateModalContent(c.a.createElement(u.a,null),4),this.props.toogleModal()}},{key:"render",value:function(){var e=this,t=function(e){var t=Math.floor(e/6e4),s=(e%6e4/1e3).toFixed(0);return t+":"+(s<10?"0":"")+s};return c.a.createElement("div",{className:"upload-sc-item--wrapper"+(this.props.synced?" synced ":"")+(this.props.streamable&&this.props.public?"":" non-synchronizable ")},c.a.createElement("div",{className:"upload-sc-item-overlay--wrapper"},c.a.createElement("div",{className:"artwork--wrapper"},this.props.track.artwork_url?c.a.createElement("img",{src:this.props.track.artwork_url,alt:"artwork"}):""),c.a.createElement("div",{className:"song-info--wrapper"},c.a.createElement("div",{className:"song-name"},c.a.createElement(a.g,null,this.props.track.title)),c.a.createElement("div",{className:"song-stats"},c.a.createElement("span",{className:"number-listens"},c.a.createElement("img",{src:"/static/img/MASAS_logo_tunes.svg",alt:"music-not-icon"}),this.props.track.playback_count),c.a.createElement("span",null,t(this.props.track.duration))),c.a.createElement("a",{href:this.props.track.permalink_url,className:"sc-link",target:"_blank"},c.a.createElement("img",{src:"/static/img/MASAS_logo_soundcloud.svg",alt:"soundcloud"})))),c.a.createElement("div",{className:"sync--wrapper",onClick:function(){return e.props.public&&e.props.streamable?0:e.showSyncInfoModal()}},this.showTrackStatus()))}}]),UploadSCItemSmart}(c.a.Component);h.propTypes=b,h.defaultProps=C;var T=s.i(l.connect)(_,S)(h);!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(d,"reduxStatePropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/UploadSCItem.jsx"),__REACT_HOT_LOADER__.register(_,"mapStateToProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/UploadSCItem.jsx"),__REACT_HOT_LOADER__.register(f,"reduxDispatchPropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/UploadSCItem.jsx"),__REACT_HOT_LOADER__.register(S,"mapDispatchToProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/UploadSCItem.jsx"),__REACT_HOT_LOADER__.register(b,"smartPropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/UploadSCItem.jsx"),__REACT_HOT_LOADER__.register(C,"smartDefaultProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/UploadSCItem.jsx"),__REACT_HOT_LOADER__.register(h,"UploadSCItemSmart","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/UploadSCItem.jsx"),__REACT_HOT_LOADER__.register(T,"UploadSCItem","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/UploadSCItem.jsx"))}()},682:function(e,t,s){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}s.d(t,"a",function(){return h});var o=s(28),a=s(2),n=s.n(a),r=s(1),i=s.n(r),c=s(6),u=(s.n(c),s(16)),l=function(){function defineProperties(e,t){for(var s=0;s<t.length;s++){var o=t[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,s){return t&&defineProperties(e.prototype,t),s&&defineProperties(e,s),e}}(),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},m={},d=function(e){return{}},_={toogleIsModalOpened:n.a.func},f=function(e){return{toogleIsModalOpened:function(){return e(s.i(u.b)())}}},S=p({},m,_,{onSubmit:n.a.func.isRequired}),b={},C=function(e){function ModalContentSmart(e){return _classCallCheck(this,ModalContentSmart),_possibleConstructorReturn(this,(ModalContentSmart.__proto__||Object.getPrototypeOf(ModalContentSmart)).call(this,e))}return _inherits(ModalContentSmart,e),l(ModalContentSmart,[{key:"render",value:function(){return i.a.createElement("div",{className:"confirm-ownership--wrapper"},i.a.createElement("div",{className:"lock-icon--wrapper"},i.a.createElement("img",{src:"/static/img/MASAS_icon_i_certify.svg",className:"lock-icon",alt:"i certify icon"})),i.a.createElement("div",{className:"checkbox--wrapper"},i.a.createElement("p",{className:"paragraph"},"Before you get Discovered, please certify that:"),i.a.createElement("ul",{className:"bullets",type:"disc"},i.a.createElement("li",null,"You have the explicit permission from all right-holders of this sound to agree to the Terms of Use."),i.a.createElement("li",null,"This track is NOT a “Spam” or “Commercial”."),i.a.createElement("li",null,"No royalties will be paid to any of the right-holders of this sound for this upload.")),i.a.createElement("div",{className:"submit--wrapper"},i.a.createElement(o.b,{isBigButton:!0,isSecondaryAction:!1,onClick:this.props.onSubmit,className:"submit"},"Upload"))))}}]),ModalContentSmart}(i.a.Component);C.propTypes=S,C.defaultProps=b;var h=s.i(c.connect)(d,f)(C);!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(m,"reduxStatePropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/ModalContent.jsx"),__REACT_HOT_LOADER__.register(d,"mapStateToProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/ModalContent.jsx"),__REACT_HOT_LOADER__.register(_,"reduxDispatchPropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/ModalContent.jsx"),__REACT_HOT_LOADER__.register(f,"mapDispatchToProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/ModalContent.jsx"),__REACT_HOT_LOADER__.register(S,"smartPropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/ModalContent.jsx"),__REACT_HOT_LOADER__.register(b,"smartDefaultProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/ModalContent.jsx"),__REACT_HOT_LOADER__.register(C,"ModalContentSmart","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/ModalContent.jsx"),__REACT_HOT_LOADER__.register(h,"ModalContent","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/ModalContent.jsx"))}()},683:function(e,t,s){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}s.d(t,"a",function(){return T});var o=s(28),a=s(2),n=s.n(a),r=s(1),i=s.n(r),c=s(6),u=(s.n(c),s(31)),l=s(64),p=function(){function defineProperties(e,t){for(var s=0;s<t.length;s++){var o=t[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,s){return t&&defineProperties(e.prototype,t),s&&defineProperties(e,s),e}}(),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},d={},_=function(e){return{}},f={updateNotificationBar:n.a.func},S=function(e){return{updateNotificationBar:function(t){return e(s.i(l.a)(t))}}},b=m({},d,f,{logoutSC:n.a.func}),C={logoutSC:function(){}},h=function(e){function NoSCSongsSmart(e){_classCallCheck(this,NoSCSongsSmart);var t=_possibleConstructorReturn(this,(NoSCSongsSmart.__proto__||Object.getPrototypeOf(NoSCSongsSmart)).call(this,e));return t.inviteFriend=t.inviteFriend.bind(t),t}return _inherits(NoSCSongsSmart,e),p(NoSCSongsSmart,[{key:"inviteFriend",value:function(){s.i(u.f)("http://masas.fm"),this.props.updateNotificationBar("http://masas.fm copied to your clipboard!")}},{key:"render",value:function(){return i.a.createElement("div",{className:"no-sc-songs--wrapper"},i.a.createElement("h2",null,"Nothing uploaded on your Soundcloud?"),i.a.createElement("p",null,"We all have Artist friends, give them their chance!"),i.a.createElement("div",{className:"buttons"},i.a.createElement(o.b,{onClick:this.inviteFriend},"Invite a friend"),i.a.createElement("div",{className:"cancel",onClick:this.props.logoutSC},"or sign in with another Soundcloud account")))}}]),NoSCSongsSmart}(i.a.Component);h.propTypes=b,h.defaultProps=C;var T=s.i(c.connect)(_,S)(h);!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(d,"reduxStatePropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/NoSCSongs.jsx"),__REACT_HOT_LOADER__.register(_,"mapStateToProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/NoSCSongs.jsx"),__REACT_HOT_LOADER__.register(f,"reduxDispatchPropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/NoSCSongs.jsx"),__REACT_HOT_LOADER__.register(S,"mapDispatchToProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/NoSCSongs.jsx"),__REACT_HOT_LOADER__.register(b,"smartPropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/NoSCSongs.jsx"),__REACT_HOT_LOADER__.register(C,"smartDefaultProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/NoSCSongs.jsx"),__REACT_HOT_LOADER__.register(h,"NoSCSongsSmart","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/NoSCSongs.jsx"),__REACT_HOT_LOADER__.register(T,"NoSCSongs","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/NoSCSongs.jsx"))}()},684:function(e,t,s){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}s.d(t,"a",function(){return E});var o=s(28),a=s(16),n=s(245),r=s(682),i=s(2),c=s.n(i),u=s(1),l=s.n(u),p=s(6),m=(s.n(p),s(31)),d=s(64),_=s(48),f=function(){function defineProperties(e,t){for(var s=0;s<t.length;s++){var o=t[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,s){return t&&defineProperties(e.prototype,t),s&&defineProperties(e,s),e}}(),S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},b={MASASuser:c.a.string,isUploadButtonDisabled:c.a.bool,pickTimeUpload:c.a.number,track:c.a.object},C=function(e){return{track:e.uploadSCReducer.choosingTime,MASASuser:e.appReducer.MASASuser,pickTimeUpload:e.uploadSCReducer.pickTimeUpload,isUploadButtonDisabled:e.uploadSCReducer.isUploadButtonDisabled}},h={closeWindow:c.a.func,emitNotification:c.a.func,handleTimePickerChange:c.a.func,updateIsUploadButtonDisabled:c.a.func,updateModalContent:c.a.func,updateProfileInfo:c.a.func,updateTitle:c.a.func,toogleModal:c.a.func},T=function(e){return{toogleModal:function(){return e(s.i(a.b)())},updateModalContent:function(t){return e(s.i(a.c)(t))},updateTitle:function(t,o,n){return e(s.i(a.a)(t,o,n))},closeWindow:function(){return e(s.i(n.e)())},handleTimePickerChange:function(t){return e(s.i(n.f)(t))},emitNotification:function(t){return e(s.i(d.a)(t))},updateProfileInfo:function(){return e(s.i(_.a)())},updateIsUploadButtonDisabled:function(t){return e(s.i(n.g)(t))}}},y=S({},b,h,{checkUserStep:c.a.func,visible:c.a.bool}),g={checkUserStep:function(){}},U=function(e){function PickTimeUploadSmart(e){_classCallCheck(this,PickTimeUploadSmart);var t=_possibleConstructorReturn(this,(PickTimeUploadSmart.__proto__||Object.getPrototypeOf(PickTimeUploadSmart)).call(this,e));return t.submitSong=t.submitSong.bind(t),t.openModal=t.openModal.bind(t),t}return _inherits(PickTimeUploadSmart,e),f(PickTimeUploadSmart,[{key:"componentWillMount",value:function(){this.props.updateTitle("Upload",1,this.props.closeWindow),this.props.updateIsUploadButtonDisabled(!0),this.props.checkUserStep()}},{key:"submitSong",value:function(){var e=this,t=s.i(m.d)("csrftoken"),o="Bearer "+this.props.MASASuser;$.ajax({type:"POST",url:"api/songs/",headers:{Authorization:o,"X-CSRFToken":t},data:{trackTitle:this.props.track.title,trackDuration:this.props.track.duration,SC_ID:this.props.track.id,timeInterval:"http://localhost:8000/api/time-intervals/"+this.props.pickTimeUpload+"/"},success:function(){e.props.emitNotification("song synced ;)"),e.props.updateProfileInfo(),e.props.toogleModal(),e.props.closeWindow()},error:function(t){e.props.toogleModal(),e.props.emitNotification(t.responseJSON.SC_ID)}})}},{key:"openModal",value:function(){var e=this;this.props.updateModalContent(l.a.createElement(r.a,{onSubmit:e.submitSong})),this.props.toogleModal()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"pick-time-sc-sync"},l.a.createElement("div",{className:"song-name--wrapper"},this.props.track.artwork_url?l.a.createElement("img",{src:this.props.track.artwork_url,alt:"song artwork",className:"artwork"}):l.a.createElement("div",{className:"artwork"}),l.a.createElement("h2",{className:"song-title"},this.props.track.title)),l.a.createElement("div",{className:"pickTime--wrapper"},l.a.createElement("div",{className:"canvas"},l.a.createElement(o.f,{initialDiscover:2,currentDiscover:this.props.pickTimeUpload,onSliderChange:this.props.handleTimePickerChange,wrapperClassName:"timePicker--pick-time-upload--wrapper",initText:"Drag the sun around!",ref:"timePicker",onFirstSunMove:function(){return e.props.updateIsUploadButtonDisabled(!1)},canvasId:"timePicker--pick-time-upload--id"}))),l.a.createElement("div",{className:"button--wrapper"},l.a.createElement(o.b,{className:"submit",small:!0,white:!0,isDisabled:this.props.isUploadButtonDisabled,onClick:this.openModal},"Submit"),l.a.createElement(o.e,{to:"/upload",className:"cancel-button",onClick:this.props.closeWindow},l.a.createElement("span",null,"cancel"))))}}]),PickTimeUploadSmart}(l.a.Component);U.propTypes=y,U.defaultProps=g;var E=s.i(p.connect)(C,T)(U);!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(b,"reduxStatePropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/PickTimeUpload.jsx"),__REACT_HOT_LOADER__.register(C,"mapStateToProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/PickTimeUpload.jsx"),__REACT_HOT_LOADER__.register(h,"reduxDispatchPropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/PickTimeUpload.jsx"),__REACT_HOT_LOADER__.register(T,"mapDispatchToProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/PickTimeUpload.jsx"),__REACT_HOT_LOADER__.register(y,"smartPropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/PickTimeUpload.jsx"),__REACT_HOT_LOADER__.register(g,"smartDefaultProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/PickTimeUpload.jsx"),__REACT_HOT_LOADER__.register(U,"PickTimeUploadSmart","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/PickTimeUpload.jsx"),__REACT_HOT_LOADER__.register(E,"PickTimeUpload","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/PickTimeUpload.jsx"))}()},685:function(e,t,s){"use strict";s.d(t,"a",function(){return c});var o=s(28),a=s(1),n=s.n(a),r={},i={},c=function(e){return n.a.createElement("div",{className:"SC-sync-instruction-modal--wrapper"},n.a.createElement("div",{className:"intro-text"},'You need to enable "app playback" on this particular track'),n.a.createElement("div",{className:"bullets"},n.a.createElement("div",null,n.a.createElement("span",{className:"number"},"1."),n.a.createElement("span",{className:"subtitle"},'Go to your "track" on your soundcloud profile')),n.a.createElement("div",null,n.a.createElement("span",{className:"number"},"2."),n.a.createElement("span",{className:"subtitle"},"Locate the track and click the pencil icon (to the right of the share button)")),n.a.createElement("div",null,n.a.createElement("span",{className:"number"},"3."),n.a.createElement("span",{className:"subtitle"},'Make your track public in the "Basic Info" tab and enable app playback on the "Permissions" tab'))),n.a.createElement("div",{className:"button--wrapper"},n.a.createElement(o.b,{onClick:function(){},isSecondaryAction:!0},"Ok")))};c.propTypes=r,c.defaultProps=i;!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(r,"dumbPropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/SCSyncInstructionModal.jsx"),__REACT_HOT_LOADER__.register(i,"dumbDefaultProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/SCSyncInstructionModal.jsx"),__REACT_HOT_LOADER__.register(c,"SCSyncInstructionModalDumb","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/SCSyncInstructionModal.jsx"))}()},686:function(e,t,s){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}s.d(t,"a",function(){return U});var o=s(16),a=s(245),n=s(28),r=s(2),i=s.n(r),c=s(1),u=s.n(c),l=s(88),p=s(6),m=(s.n(p),s(91)),d=function(){function defineProperties(e,t){for(var s=0;s<t.length;s++){var o=t[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,s){return t&&defineProperties(e.prototype,t),s&&defineProperties(e,s),e}}(),_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},f=function(e){var t=e.imgSrc,s=e.text;return u.a.createElement("div",{className:"bullet-point--wrapper"},u.a.createElement("img",{src:t,alt:"image"}),u.a.createElement("p",null,s))};f.propTypes={imgSrc:i.a.string.isRequired,text:i.a.string.isRequired};var S={MASASuser:i.a.string,userPk:i.a.string},b=function(e){return{MASASuser:e.appReducer.MASASuser,userPk:e.appReducer.MASASuserPk}},C={toogleModal:i.a.func,updateIsConnectedSC:i.a.func,updateLoginMessage:i.a.func,updateMasasUserTracks:i.a.func,updateModalContent:i.a.func,updateProfilePicture:i.a.func,updateSCusername:i.a.func,updateSoundcloudUserTracks:i.a.func},h=function(e){return{toogleModal:function(){return e(s.i(o.b)())},updateLoginMessage:function(t){return e(s.i(o.g)(t))},updateModalContent:function(t,a){return e(s.i(o.c)(t,a))},updateIsConnectedSC:function(t){return e(s.i(a.d)(t))},updateSCusername:function(t){return e(s.i(a.c)(t))},updateMasasUserTracks:function(t){return e(s.i(a.b)(t))},updateSoundcloudUserTracks:function(t){return e(s.i(a.a)(t))},updateProfilePicture:function(t){return e(s.i(m.a)(t))}}},T=_({},S,C,{getUserTracks:i.a.func}),y={},g=function(e){function UploadSCHomeSmart(e){_classCallCheck(this,UploadSCHomeSmart);var t=_possibleConstructorReturn(this,(UploadSCHomeSmart.__proto__||Object.getPrototypeOf(UploadSCHomeSmart)).call(this,e));return t.connectToSC=t.connectToSC.bind(t),t}return _inherits(UploadSCHomeSmart,e),d(UploadSCHomeSmart,[{key:"connectToSC",value:function(){var e=this;SC.connect().then(function(){e.props.updateIsConnectedSC(!0),SC.get("/me").then(function(t){e.props.updateSCusername(t.username),e.props.getUserTracks(),e.props.updateProfilePicture(t.avatar_url.replace("large.jpg","t500x500.jpg"))}).catch(function(){e.props.updateSCusername(null)}),e.props.getUserTracks()}).catch(function(e){return alert("Error: "+e.message)})}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:"description"},u.a.createElement("div",{className:"bullet-point-list--wrapper"},u.a.createElement(f,{imgSrc:"/static/img/upload/icon_upload_1.png",text:"Expose your sounds to the finest music community and get feedback"}),u.a.createElement(f,{imgSrc:"/static/img/upload/icon_upload_2.png",text:"Everyday, favorites from the community will be featured on the Crowdradio"}),u.a.createElement(f,{imgSrc:"/static/img/upload/icon_upload_3.png",text:"Get a chance to be featured on our next events and be contacted by independent labels"})),""!==this.props.MASASuser?u.a.createElement("div",{className:"connect-button"},u.a.createElement(n.b,{onClick:this.connectToSC,isBigButton:!0,soundcloud:!0},"Sync My SoundCloud")):u.a.createElement("div",{className:"connect-button"},u.a.createElement(n.b,{onClick:function(){e.props.toogleModal(),e.props.updateLoginMessage("Please log-in to upload your music"),e.props.updateModalContent(u.a.createElement(l.a,{startPage:1}),3)},isBigButton:!0},"Log-in to Upload"),u.a.createElement("div",{className:"button-subtitle"},"It's free!")))}}]),UploadSCHomeSmart}(u.a.Component);g.propTypes=T,g.defaultProps=y;var U=s.i(p.connect)(b,h)(g);!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(f,"BulletPoint","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/UploadSCHome.jsx"),__REACT_HOT_LOADER__.register(S,"reduxStatePropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/UploadSCHome.jsx"),__REACT_HOT_LOADER__.register(b,"mapStateToProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/UploadSCHome.jsx"),__REACT_HOT_LOADER__.register(C,"reduxDispatchPropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/UploadSCHome.jsx"),__REACT_HOT_LOADER__.register(h,"mapDispatchToProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/UploadSCHome.jsx"),__REACT_HOT_LOADER__.register(T,"smartPropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/UploadSCHome.jsx"),__REACT_HOT_LOADER__.register(y,"smartDefaultProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/UploadSCHome.jsx"),__REACT_HOT_LOADER__.register(g,"UploadSCHomeSmart","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/UploadSCHome.jsx"),__REACT_HOT_LOADER__.register(U,"UploadSCHome","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/UploadSCHome.jsx"))}()},687:function(e,t,s){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}s.d(t,"a",function(){return h});var o=s(2),a=s.n(o),n=s(1),r=s.n(n),i=s(670),c=s(6),u=(s.n(c),s(16)),l=function(){function defineProperties(e,t){for(var s=0;s<t.length;s++){var o=t[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,s){return t&&defineProperties(e.prototype,t),s&&defineProperties(e,s),e}}(),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},m={SCusername:a.a.string,masasUserTracks:a.a.array,soundcloudUserTracks:a.a.array},d=function(e){return{SCusername:e.uploadSCReducer.SCusername,soundcloudUserTracks:e.uploadSCReducer.soundcloudUserTracks,masasUserTracks:e.uploadSCReducer.masasUserTracks}},_={updateTitle:a.a.func},f=function(e){return{updateTitle:function(t,o){return e(s.i(u.a)(t,o))}}},S=p({},m,_),b={},C=function(e){function UploadSCSongTableSmart(e){return _classCallCheck(this,UploadSCSongTableSmart),_possibleConstructorReturn(this,(UploadSCSongTableSmart.__proto__||Object.getPrototypeOf(UploadSCSongTableSmart)).call(this,e))}return _inherits(UploadSCSongTableSmart,e),l(UploadSCSongTableSmart,[{key:"tracksTable",value:function(){var e=this;if(this.props.soundcloudUserTracks)return this.props.soundcloudUserTracks.map(function(t){var s=!1;return e.props.masasUserTracks.filter(function(e){return e.SC_ID===t.id}).length&&(s=!0),r.a.createElement(i.a,{key:t.id,track:t,synced:s,streamable:t.streamable,public:"public"===t.sharing})})}},{key:"logoutSC",value:function(){location.reload()}},{key:"render",value:function(){return r.a.createElement("div",{className:"upload-sc--wrapper"},r.a.createElement("div",{className:"table-head"},r.a.createElement("div",{className:"title"},"Title"),r.a.createElement("div",{className:"duration"},"Duration"),r.a.createElement("div",{className:"sync"},"Sync")),r.a.createElement("div",{className:"upload-sc-items--wrapper"},this.tracksTable()),r.a.createElement("div",{className:"logout--wrapper"},this.props.SCusername?r.a.createElement("span",{className:"logout-text",onClick:this.logoutSC},"Log out from ",r.a.createElement("span",{className:"logout-text--username"},this.props.SCusername)):""))}}]),UploadSCSongTableSmart}(r.a.Component);C.propTypes=S,C.defaultProps=b;var h=s.i(c.connect)(d,f)(C);!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(m,"reduxStatePropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/UploadSCSongTable.jsx"),__REACT_HOT_LOADER__.register(d,"mapStateToProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/UploadSCSongTable.jsx"),__REACT_HOT_LOADER__.register(_,"reduxDispatchPropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/UploadSCSongTable.jsx"),__REACT_HOT_LOADER__.register(f,"mapDispatchToProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/UploadSCSongTable.jsx"),__REACT_HOT_LOADER__.register(S,"smartPropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/UploadSCSongTable.jsx"),__REACT_HOT_LOADER__.register(b,"smartDefaultProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/UploadSCSongTable.jsx"),__REACT_HOT_LOADER__.register(C,"UploadSCSongTableSmart","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/UploadSCSongTable.jsx"),__REACT_HOT_LOADER__.register(h,"UploadSCSongTable","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/UploadSCSongTable.jsx"))}()},688:function(e,t,s){"use strict";s.d(t,"a",function(){return n});var o=s(247),a=s.n(o),n=function(e,t,s){a.a.ajax({type:"GET",url:"api/users/"+e+"/",success:t,error:s})};!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(n,"getUserTracks","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/UploadSC/ajaxCalls.jsx")}()}});