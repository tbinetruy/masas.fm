webpackJsonp([3],{661:function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"Popular",function(){return v});var n=r(16),o=r(19),s=r(665),a=r(676),i=r(28),l=r(2),u=r.n(l),p=r(1),c=r.n(p),m=r(88),g=r(6),f=(r.n(g),r(64)),_=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d=function(e){var t=e.dislikeSong,r=e.toggleSongLike;return c.a.createElement("div",{className:"vote--wrapper"},c.a.createElement("div",{className:"dislike-button",onClick:t},c.a.createElement("img",{src:"/static/img/vote/icon_dislike.svg",alt:"dislike"})),c.a.createElement("div",{className:"like-button",onClick:r},c.a.createElement("img",{src:"/static/img/vote/icon_like.svg",alt:"like"})))};d.propTypes={dislikeSong:u.a.func,toggleSongLike:u.a.func};var h={MASASuser:u.a.string,songPlaying:u.a.string,userPk:u.a.string},A=function(e){return{userPk:e.appReducer.MASASuserPk,MASASuser:e.appReducer.MASASuser,songPlaying:e.playerReducer.songPlaying}},b={blackBgFilter:u.a.func,playRandomSong:u.a.func,resetBgFilter:u.a.func,toggleSongLike:u.a.func,toogleModal:u.a.func,updateLoginMessage:u.a.func,updateModalContent:u.a.func,updateTipBar:u.a.func,updateTitle:u.a.func},S=function(e){return{updateTitle:function(t,o){return e(r.i(n.a)(t,o))},playRandomSong:function(){return e(r.i(o.d)(o.h))},toggleSongLike:function(t,n){return e(r.i(o.e)(n))},toogleModal:function(){return e(r.i(n.b)())},updateLoginMessage:function(t){return e(r.i(n.g)(t))},updateModalContent:function(t,o){return e(r.i(n.c)(t,o))},blackBgFilter:function(){return e(n.f.black())},resetBgFilter:function(){return e(n.f.reset())},updateTipBar:function(t,n,o){return e(r.i(f.c)(t,n,o))}}},k=y({},h,b),P={},w=function(e){function PopularSmart(e){_classCallCheck(this,PopularSmart);var t=_possibleConstructorReturn(this,(PopularSmart.__proto__||Object.getPrototypeOf(PopularSmart)).call(this,e));return t.state={spinnerProgress:0},t.getContent=t.getContent.bind(t),t.dislikeSong=t.dislikeSong.bind(t),t.showLoginModal=t.showLoginModal.bind(t),t.toggleSongLike=t.toggleSongLike.bind(t),t}return _inherits(PopularSmart,e),_(PopularSmart,[{key:"componentWillMount",value:function(){this.props.updateTitle("Discover","0"),this.props.blackBgFilter()}},{key:"componentDidMount",value:function(){this.props.updateTipBar("You can influence the Crowdradio. Just vote!",10,c.a.createElement(i.e,{to:"/upload"},"or Upload"))}},{key:"componentWillUnmount",value:function(){this.props.resetBgFilter(),this.props.updateTipBar("")}},{key:"getContent",value:function(){return c.a.createElement("div",{className:"popular-content--wrapper"},c.a.createElement(a.a,null),c.a.createElement(s.a,{playFromPopular:!0}),c.a.createElement(d,{dislikeSong:this.dislikeSong,toggleSongLike:this.toggleSongLike}))}},{key:"showLoginModal",value:function(e){this.props.updateLoginMessage(e),this.props.updateModalContent(c.a.createElement(m.a,{startPage:1}),3),this.props.toogleModal()}},{key:"toggleSongLike",value:function(){""===this.props.MASASuser?this.showLoginModal("Please log-in to Like & Save songs"):this.props.toggleSongLike(this.props.MASASuser,this.props.songPlaying)}},{key:"dislikeSong",value:function(){""===this.props.MASASuser?this.showLoginModal("Please log-in to Downvote songs"):this.props.playRandomSong()}},{key:"render",value:function(){return c.a.createElement("div",{className:"popular--wrapper"},this.getContent())}}]),PopularSmart}(c.a.Component);w.propTypes=k,w.defaultProps=P;var v=r.i(g.connect)(A,S)(w);!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(d,"VoteButtons","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Popular/Popular.jsx"),__REACT_HOT_LOADER__.register(h,"reduxStatePropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Popular/Popular.jsx"),__REACT_HOT_LOADER__.register(A,"mapStateToProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Popular/Popular.jsx"),__REACT_HOT_LOADER__.register(b,"reduxDispatchPropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Popular/Popular.jsx"),__REACT_HOT_LOADER__.register(S,"mapDispatchToProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Popular/Popular.jsx"),__REACT_HOT_LOADER__.register(k,"smartPropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Popular/Popular.jsx"),__REACT_HOT_LOADER__.register(P,"smartDefaultProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Popular/Popular.jsx"),__REACT_HOT_LOADER__.register(w,"PopularSmart","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Popular/Popular.jsx"),__REACT_HOT_LOADER__.register(v,"Popular","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Popular/Popular.jsx"))}()},665:function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.d(t,"a",function(){return k});var n=r(19),o=r(666),s=r(667),a=r(2),i=r.n(a),l=r(1),u=r.n(l),p=r(6),c=(r.n(p),r(31)),m=r(89),g=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_={discoverNumber:i.a.number,history:i.a.object,isPlayerPaused:i.a.bool,isSongPlayingLiked:i.a.bool,popularHistory:i.a.array,songPlaying:i.a.string,songPlayingArtistInfo:i.a.object,userToken:i.a.string},y=function(e){return{discoverNumber:e.discoverReducer.discoverNumber,history:e.discoverReducer.history,popularHistory:e.popularReducer.history,songPlaying:e.playerReducer.songPlaying,isPlayerPaused:e.playerReducer.isPaused,isSongPlayingLiked:e.playerReducer.isSongPlayingLiked,userToken:e.appReducer.MASASuser,songPlayingArtistInfo:e.playerReducer.artistInfo}},d={lastSongInDiscoverHistory:i.a.func,pause:i.a.func,playAndSaveHistory:i.a.func,playPreviousSongInDiscover:i.a.func,playRandomSong:i.a.func,toggleSongLike:i.a.func},h=function(e){return{toggleSongLike:function(t,o){return e(r.i(n.e)(o))},playAndSaveHistory:function(t,o){return e(r.i(n.i)(t,o))},playRandomSong:function(t){return e(r.i(n.d)(t))},pause:function(){return e(r.i(n.a)())},toggleIsFooterOpened:function(){return e(r.i(m.a)())},playPreviousSongInDiscover:function(t){return e(r.i(n.j)(t))},lastSongInDiscoverHistory:function(e,t){return r.i(n.k)(e,t)}}},A=f({},_,d,{playFromPopular:i.a.bool}),b={renderForUITip:!1,playFromPopular:!1,discoverNumber:1},S=function(e){function ArtworkLineSmart(e){_classCallCheck(this,ArtworkLineSmart);var t=_possibleConstructorReturn(this,(ArtworkLineSmart.__proto__||Object.getPrototypeOf(ArtworkLineSmart)).call(this,e));return t.scrollToEnd=t.scrollToEnd.bind(t),t.playRandomSong=t.playRandomSong.bind(t),t.getArtworkLine=t.getArtworkLine.bind(t),t.getHistory=t.getHistory.bind(t),t}return _inherits(ArtworkLineSmart,e),g(ArtworkLineSmart,[{key:"componentDidMount",value:function(){this.scrollToEnd()}},{key:"componentDidUpdate",value:function(){this.scrollToEnd()}},{key:"scrollToEnd",value:function(){this.getHistory().length>0&&(this.refs.artworkLine.scrollLeft=this.refs.artworkLine.scrollWidth)}},{key:"playRandomSong",value:function(){this.props.playRandomSong(this.props.playFromPopular?n.h:this.props.discoverNumber)}},{key:"getArtworkLine",value:function(e){var t=this,r=0,n=e.map(function(e){var n=e.SC_songInfo,s=e.MASAS_songInfo,a=e.artistInfo;r+=1;var i="";null!==n.artwork_url&&(i=n.artwork_url.substring(0,n.artwork_url.lastIndexOf("-"))+"-t300x300.jpg");var l=t.props.songPlaying===s.url&&t.props.isPlayerPaused===!1;return u.a.createElement(o.a,{allowPlayPause:t.props.playFromPopular,key_ID:r,artworkURL:i,SC_songInfo:n,MASAS_songInfo:s,isItemPlaying:l,pause:t.props.pause,playAndSaveHistory:t.props.playAndSaveHistory,artistInfo:a,key:r,popularTheme:t.props.playFromPopular})});return n.pop(),n}},{key:"getHistory",value:function(){var e=this,t=this.props.history.all.filter(function(t){var n=t.MASAS_songInfo;return parseInt(r.i(c.k)(n.timeInterval))===e.props.discoverNumber});return this.props.playFromPopular&&(t=this.props.popularHistory),t.length>10&&(t=t.slice(t.length-10,t.length)),t}},{key:"render",value:function(){var e=this,t=this.getHistory();if(0===t.length)return u.a.createElement(s.a,{playRandomSong:this.playRandomSong,playFromPopular:this.props.playFromPopular,popularTheme:!this.props.playFromPopular});var r=this.getArtworkLine(t),n=t.map(function(e){return{SC_songInfo:e.SC_songInfo,MASAS_songInfo:e.MASAS_songInfo}}).pop(),a=n.MASAS_songInfo;n=n.SC_songInfo;var i="";return void 0!==n&&n.artwork_url&&(i=n.artwork_url.substring(0,n.artwork_url.lastIndexOf("-"))+"-t300x300.jpg"),u.a.createElement("div",{className:"artwork-line--wrapper "+(this.props.playFromPopular?"popular":"")},u.a.createElement("div",{className:"left-side"},u.a.createElement("div",{className:"artwork-line",ref:"artworkLine"},u.a.createElement("div",{className:"artwork-line2"},r),u.a.createElement("div",{className:"empty-artwork",style:{visibility:"hidden"}}))),u.a.createElement("div",{className:"artwork-playing--wrapper"+(this.props.playFromPopular?" popular":"")},u.a.createElement("img",{onClick:function(){return e.props.playPreviousSongInDiscover(e.props.discoverNumber)},className:"pervious-song-button"+(this.props.lastSongInDiscoverHistory(this.props.history.all,this.props.discoverNumber)===-1?" hidden":"")+(this.props.playFromPopular?" hidden":""),src:"/static/img/MASAS_next.svg",alt:"next"}),u.a.createElement(o.a,{key_ID:0,artworkURL:i,SC_songInfo:n,MASAS_songInfo:a,isItemPlaying:this.props.songPlaying===a.url&&this.props.isPlayerPaused===!1,pause:this.props.pause,playAndSaveHistory:this.props.playAndSaveHistory,isArtworkLarge:!0,songPlaying:this.props.songPlaying,toggleSongLike:this.props.toggleSongLike,isSongPlayingLiked:this.props.isSongPlayingLiked,userToken:this.props.userToken,artistInfo:this.props.songPlayingArtistInfo,popularTheme:this.props.playFromPopular}),u.a.createElement("img",{onClick:function(){return e.playRandomSong()},className:"next-song-button",src:"/static/img/MASAS_next.svg",alt:"next"})),u.a.createElement("div",{className:"button "+(this.props.songPlaying===a.url?" show ":"")},u.a.createElement("img",{onClick:function(){return e.playRandomSong()},className:"next-song",src:"/static/img/MASAS_next.svg",alt:"next"})),u.a.createElement("div",{className:"right-side"}))}}]),ArtworkLineSmart}(u.a.Component);S.propTypes=A,S.defaultProps=b;var k=r.i(p.connect)(y,h)(S);!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(_,"reduxStatePropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Discover/ArtworkLine.jsx"),__REACT_HOT_LOADER__.register(y,"mapStateToProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Discover/ArtworkLine.jsx"),__REACT_HOT_LOADER__.register(d,"reduxDispatchPropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Discover/ArtworkLine.jsx"),__REACT_HOT_LOADER__.register(h,"mapDispatchToProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Discover/ArtworkLine.jsx"),__REACT_HOT_LOADER__.register(A,"smartPropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Discover/ArtworkLine.jsx"),__REACT_HOT_LOADER__.register(b,"smartDefaultProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Discover/ArtworkLine.jsx"),__REACT_HOT_LOADER__.register(S,"ArtworkLineSmart","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Discover/ArtworkLine.jsx"),__REACT_HOT_LOADER__.register(k,"ArtworkLine","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Discover/ArtworkLine.jsx"))}()},666:function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.d(t,"a",function(){return k});var n=r(16),o=r(246),s=r(2),a=r.n(s),i=r(1),l=r.n(i),u=r(668),p=r(88),c=r(6),m=(r.n(c),r(19)),g=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_={MASASuser:a.a.string.isRequired},y=function(e){return{MASASuser:e.appReducer.MASASuser}},d={toggleModal:a.a.func,resumePlayer:a.a.func,updateLoginMessage:a.a.func,updateMiniProfileContent:a.a.func,updateModalContent:a.a.func,updateTitle:a.a.func},h=function(e){return{updateTitle:function(t,o){return e(r.i(n.a)(t,o))},updateLoginMessage:function(t){return e(r.i(n.g)(t))},updateModalContent:function(t,o){return e(r.i(n.c)(t,o))},toggleModal:function(){return e(r.i(n.b)())},resumePlayer:function(){return e(r.i(m.l)())},updateMiniProfileContent:function(t){return e(r.i(n.i)(t))}}},A=f({},_,d,{MASAS_songInfo:a.a.object,SC_songInfo:a.a.object,allowPlayPause:a.a.bool,artworkURL:a.a.string,isArtworkLarge:a.a.bool,isItemPlaying:a.a.bool,isSongPlayingLiked:a.a.bool,key_ID:a.a.number,pause:a.a.func,playAndSaveHistory:a.a.func,popularTheme:a.a.bool,songPlaying:a.a.string,toggleSongLike:a.a.func}),b={isArtworkLarge:!1,allowPlayPauseOnClick:!0},S=function(e){function ArtworkLineItemSmart(e){_classCallCheck(this,ArtworkLineItemSmart);var t=_possibleConstructorReturn(this,(ArtworkLineItemSmart.__proto__||Object.getPrototypeOf(ArtworkLineItemSmart)).call(this,e));return t.toggleShowProfile=t.toggleShowProfile.bind(t),t.toggleSongLike=t.toggleSongLike.bind(t),t.onArtworkClick=t.onArtworkClick.bind(t),t}return _inherits(ArtworkLineItemSmart,e),g(ArtworkLineItemSmart,[{key:"toggleShowProfile",value:function(){this.props.updateMiniProfileContent(this.props.MASAS_songInfo.trackArtist)}},{key:"toggleSongLike",value:function(){""===this.props.MASASuser?(this.props.updateLoginMessage("Please log-in to Like & Save songs"),this.props.updateModalContent(l.a.createElement(p.a,{startPage:1}),3),this.props.toggleModal()):this.props.toggleSongLike(this.props.MASASuser,this.props.songPlaying)}},{key:"onArtworkClick",value:function(){this.props.isItemPlaying?this.props.pause():this.props.songPlaying===this.props.MASAS_songInfo.url?this.props.resumePlayer(this.props.popularTheme):this.props.playAndSaveHistory(this.props.MASAS_songInfo.url,this.props.popularTheme)}},{key:"render",value:function(){var e=this.props,t=e.key_ID,r=e.artworkURL,n=e.isItemPlaying,s=e.isArtworkLarge,a=e.allowPlayPause,i=e.MASAS_songInfo,p=e.SC_songInfo,c=e.isSongPlayingLiked,m=e.songPlaying,g=e.popularTheme,f=e.MASASuser;return l.a.createElement("div",{className:"artwork-line-item--wrapper "+(s?"artwork-playing":""),key:t},l.a.createElement(o.a,{artworkURL:r,onArtworkClick:this.onArtworkClick,isItemPlaying:n,allowPlayPause:a}),l.a.createElement(u.a,{small:!s,toggleShowProfile:this.toggleShowProfile,toggleSongLike:this.toggleSongLike,isSongPlayingLiked:c,songPlaying:m,SC_songInfo:p,MASAS_songInfo:i,popularTheme:g,MASASuser:f}))}}]),ArtworkLineItemSmart}(l.a.Component);S.propTypes=A,S.defaultProps=b;var k=r.i(c.connect)(y,h)(S);!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(_,"reduxStatePropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Discover/ArtworkLineItem.jsx"),__REACT_HOT_LOADER__.register(y,"mapStateToProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Discover/ArtworkLineItem.jsx"),__REACT_HOT_LOADER__.register(d,"reduxDispatchPropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Discover/ArtworkLineItem.jsx"),__REACT_HOT_LOADER__.register(h,"mapDispatchToProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Discover/ArtworkLineItem.jsx"),__REACT_HOT_LOADER__.register(A,"smartPropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Discover/ArtworkLineItem.jsx"),__REACT_HOT_LOADER__.register(b,"smartDefaultProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Discover/ArtworkLineItem.jsx"),__REACT_HOT_LOADER__.register(S,"ArtworkLineItemSmart","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Discover/ArtworkLineItem.jsx"),__REACT_HOT_LOADER__.register(k,"ArtworkLineItem","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Discover/ArtworkLineItem.jsx"))}()},667:function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.d(t,"a",function(){return l});var n=r(2),o=r.n(n),s=r(1),a=r.n(s),i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),l=function(e){function EmptyArtwork(e){return _classCallCheck(this,EmptyArtwork),_possibleConstructorReturn(this,(EmptyArtwork.__proto__||Object.getPrototypeOf(EmptyArtwork)).call(this,e))}return _inherits(EmptyArtwork,e),i(EmptyArtwork,[{key:"render",value:function(){return a.a.createElement("div",{className:"artwork-line--wrapper "+(this.props.playFromPopular?"popular":"")},a.a.createElement("div",{className:"left-side"},a.a.createElement("div",{className:"artwork-line",ref:"artworkLine"},a.a.createElement("div",{className:"empty-artwork",style:{visibility:"hidden"}}))),a.a.createElement("div",{className:"artwork-playing--wrapper"},a.a.createElement("div",{className:"artwork-playing"},a.a.createElement("div",{onClick:this.props.playRandomSong,className:"player-button",style:{display:"flex"}},a.a.createElement("img",{src:"/static/img/MASAS_player_play.svg",alt:"play"}))),a.a.createElement("div",{className:"song-info--wrapper"+(this.props.popularTheme?" popular":"")},a.a.createElement("div",{className:"like-icon"},a.a.createElement("img",{src:"/static/img/MASAS_like_shadow.svg",style:{pointer:"default"},alt:"like"})),a.a.createElement("div",{className:"song-info"},a.a.createElement("div",{className:"title"}),a.a.createElement("div",{className:"artist"})))),a.a.createElement("div",{className:"right-side"}))}}]),EmptyArtwork}(a.a.Component);l.propTypes={playFromPopular:o.a.bool,playRandomSong:o.a.func.isRequired,popularTheme:o.a.bool},l.defaultProps={popularTheme:!1};!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(l,"EmptyArtwork","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Discover/EmptyArtwork.jsx")}()},668:function(e,t,r){"use strict";r.d(t,"a",function(){return l});var n=r(28),o=r(2),s=r.n(o),a=r(1),i=r.n(a),l=function(e){return e.small?i.a.createElement("div",{onClick:e.toggleShowProfile,className:"song-info--wrapper"+(e.popularTheme?" popular":"")},i.a.createElement(n.g,{className:"title"},e.SC_songInfo.title),i.a.createElement(n.g,{className:"artist"},e.SC_songInfo.user.username)):i.a.createElement("div",{className:"song-info--wrapper"+(e.popularTheme?" popular":"")},i.a.createElement("div",{className:"like-icon "+(e.songPlaying===e.MASAS_songInfo.url?"show":"hide"),onClick:function(){return e.toggleSongLike()}},e.isSongPlayingLiked&&""!==e.MASASuser?i.a.createElement("img",{src:"/static/img/MASAS_liked.svg",alt:"unlike"}):i.a.createElement("img",{src:"/static/img/MASAS_like_shadow.svg",alt:"like"})),i.a.createElement("div",{onClick:e.toggleShowProfile,className:"song-info"},i.a.createElement("div",{className:"title"},i.a.createElement(n.g,null,e.SC_songInfo.title)),i.a.createElement("div",{className:"artist"},i.a.createElement(n.g,null,e.SC_songInfo.user.username))))};l.propTypes={MASAS_songInfo:s.a.object.isRequired,MASASuser:s.a.string,SC_songInfo:s.a.object.isRequired,isSongPlayingLiked:s.a.bool.isRequired,popularTheme:s.a.bool,small:s.a.bool,songPlaying:s.a.string,toggleShowProfile:s.a.func.isRequired,toggleSongLike:s.a.func},l.defaultProps={isSongPlayingLiked:!1,popularTheme:!1};!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(l,"SongInfo","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Discover/dumb/SongInfo.jsx")}()},676:function(e,t,r){"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function step(n,o){try{var s=t[n](o),a=s.value}catch(e){return void r(e)}if(!s.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}return step("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.d(t,"a",function(){return b});var n=r(112),o=r(248),s=r.n(o),a=r(2),i=r.n(a),l=r(1),u=r.n(l),p=r(6),c=(r.n(p),function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}()),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};r(92);var g={genres:i.a.array,value:i.a.string},f=function(e){return{genres:e.popularReducer.genre.apiGenres,value:e.popularReducer.genre.textboxValue}},_={updateGenres:i.a.func,updateSelectedGenre:i.a.func,updateValue:i.a.func},y=function(e){return{updateGenres:function(t){return e(r.i(n.c)(t))},updateValue:function(t){return e(r.i(n.d)(t))},updateSelectedGenre:function(t){return e(r.i(n.e)(t))}}},d=m({},g,_),h={},A=function(e){function GenreAutocompleteSmart(e){_classCallCheck(this,GenreAutocompleteSmart);var t=_possibleConstructorReturn(this,(GenreAutocompleteSmart.__proto__||Object.getPrototypeOf(GenreAutocompleteSmart)).call(this,e));return t.genres=[],t.getAllGenres=t.getAllGenres.bind(t),t.onChange=t.onChange.bind(t),t}return _inherits(GenreAutocompleteSmart,e),c(GenreAutocompleteSmart,[{key:"componentDidMount",value:function(){this.getAllGenres()}},{key:"getAllGenres",value:function(){function getAllGenres(){return e.apply(this,arguments)}var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var e,t,r,n,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/api/genres/";return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,fetch(o);case 2:return e=s.sent,s.next=5,e.json();case 5:t=s.sent,r=t.results,n=t.next,this.props.updateGenres(this.props.genres.concat(r)),n&&this.getAllGenres(n);case 10:case"end":return s.stop()}},_callee,this)}));return getAllGenres}()},{key:"onChange",value:function(e){this.props.updateValue(e)}},{key:"render",value:function(){var e=this;return u.a.createElement(s.a,{ref:"autocomplete",value:this.props.value,items:this.props.genres.filter(function(t){return t.name.toLowerCase().includes(e.props.value.toLowerCase())}).slice(0,4),getItemValue:function(e){return e.name},renderMenu:function(e){return u.a.createElement("div",{className:"menu-style"},e)},inputProps:{className:"MASAS-text-input item",id:"genre",name:"cities"},wrapperProps:{className:"MASAS-textbox--wrapper wrapper-style genres-autocomplete--wrapper"},wrapperStyle:{display:"flex",position:"relative"},onSelect:function(t,r){e.props.updateSelectedGenre(r.name),e.onChange(r.name)},onChange:function(t,r){return e.onChange(r)},renderItem:function(e,t){return u.a.createElement("div",{className:t?"highlighted-item":"item",key:e.pk,id:e.name},e.name)}})}}]),GenreAutocompleteSmart}(u.a.Component);A.propTypes=d,A.defaultProps=h;var b=r.i(p.connect)(f,y)(A);!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(g,"reduxStatePropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Popular/GenreAutocomplete.jsx"),__REACT_HOT_LOADER__.register(f,"mapStateToProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Popular/GenreAutocomplete.jsx"),__REACT_HOT_LOADER__.register(_,"reduxDispatchPropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Popular/GenreAutocomplete.jsx"),__REACT_HOT_LOADER__.register(y,"mapDispatchToProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Popular/GenreAutocomplete.jsx"),__REACT_HOT_LOADER__.register(d,"smartPropTypes","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Popular/GenreAutocomplete.jsx"),__REACT_HOT_LOADER__.register(h,"smartDefaultProps","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Popular/GenreAutocomplete.jsx"),__REACT_HOT_LOADER__.register(A,"GenreAutocompleteSmart","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Popular/GenreAutocomplete.jsx"),__REACT_HOT_LOADER__.register(b,"GenreAutocomplete","/Users/thomasbinetruy/Documents/websites/masas/static/js/components/Popular/GenreAutocomplete.jsx"))}()}});